<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bubble Sort</title>
</head>
<body>
    <style>
        .number-bars{
            position: absolute;
            left: 50%;
            transform: translate(-50%);
            top: 10px;
        }

        .number-bar{
            margin: 10px;
            width: 10px;
            height: 200px;
            background-color: aqua;
            float: left;
            transition: 0.5s;
        }

    </style>
    <div class="number-bars">
        <!-- <div class="number-bar">2</div>
        <div class="number-bar">2</div> -->
    </div>
    <button class="sort-btn" onclick="bubbleSort(arr)">Sort!</button>
    <script>

        function setSleep(time){
            return new Promise(res => setTimeout(res, time))
        }

        var arr = [1,5,7,3,6,14,10,8,4,2,6,8,1];
        // var arr = [5,1,9,5,1,9];
        var q = 1;

        var numberBars = document.querySelector('.number-bars');
        for(var i=0; i< arr.length;i++){
            numberBars.insertAdjacentHTML('beforeend', `<div class='number-bar' style='height:${50*arr[i]}px'>${arr[i]}</div>`);
        }
        async function bubbleSort(arr){
            for(var i = arr.length-1; i>0; i--){
                for(var j=1; j<=i;j++){
                    arrange(arr, i, j);
                    await setSleep(100);
                }
            }
            return arr;
        }
        function arrange(arr, i, j){
            if(arr[j-1]>arr[j]){
                        [arr[j-1], arr[j]] = [arr[j], arr[j-1]];
                        document.querySelector(`.number-bar:nth-child(${j+1})`).style = `background-color: red; height:${50*arr[j]}px`;
                        document.querySelector(`.number-bar:nth-child(${j})`).style = `height:${50*arr[j-1]}px`;
                        console.log("i: " + i + "-----" + "j: " + j)
                    }
        }

    </script>

</body>
</html>